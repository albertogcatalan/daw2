<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Ejercicio 3 - </title>
        <style type="text/css" title="currentStyle">
            @import "datatables/media/css/demo_table.css";
            @import "datatables/media/css/demo_page.css";
        </style>
        <script type="text/javascript" src="datatables/media/js/jquery.js"></script>
        <script type="text/javascript" src="datatables/media/js/jquery.dataTables.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $('#example').dataTable( {
                    "aoColumnDefs":[
                        {"bSearchable": true, "bVisible": false, "aTargets" : [0]}
                    ],
                    "bProcessing": true,
                    "bServerSide": true,
                    "sAjaxSource": "php/ajax_ejercicio4.php",
                    "aoColumns":[
                        {"mData": "nombre"},
                        {"mData": "cif"},
                        {"mData": "localidad"},
                        {"mData": "provincia"},
                        {
                            "mData":"id_clinica",
                            "mRender": function (data, type, full) {
                                return "<a href='editar?id_clinica=" + data[0] + "'><button class='editarbtn'>Editar</button></a>";
                            },
                            "bSortable": false,
                            "bSearchable": false,
                            "sWidth": "60px"
                        },
                        {
                            "mData":"id_clinica",
                            "mRender": function (data, type, full) {
                                //alert(full.provincia);
                                return "<a href='borrar?id_clinica=" + data[0] + "'><button class='borrarbtn'>Borrar</button></a>";
                            },
                            "bSortable": false,
                            "bSearchable": false,
                            "sWidth": "60px"
                        }
                        
                        
                    ]
                     
                } );
                $(".editarbtn").on("click", function(event){
                    alert($(this).text());
                });
                 $(".borrarbtn").on("click", function(event){
                    alert($(this).text());
                });
            } );
            
          
        </script>
    </head>
    <body id="dt_example">
        <div id="container">
            <div id="demo">
                <table class="display" id="example">
                    <thead>
                        <tr>
                           
                            <th>Nombre</th>
                            <th>Cif</th>
                            <th>Localidad</th>
                            <th>Provincia</th>
                            <th>Editar</th>
                            <th>Borrar</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                    </tbody>
                </table>
            </div>
        </div>
    </body>